(this.webpackJsonplocushare=this.webpackJsonplocushare||[]).push([[0],Array(19).concat([function(e,a,t){},,,,,function(e,a,t){e.exports=t(51)},,,,,function(e,a,t){},function(e,a,t){},,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(8),i=t.n(r),c=(t(29),t(3)),o=t(1),s=t(6),u=(t(30),function(e){return e.href?l.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?l.a.createElement(s.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"," ").concat(e.className)},e.children):l.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children)}),m=t(5),d=(t(36),t(21)),p=function(e){return{type:"MINLENGTH",value:e}},E=function(e){return{type:"MAXLENGTH",value:e}};function h(e,a){if("VALIDATE"===a.type){var t=function(e,a){var t,n=!0,l=Object(d.a)(a);try{for(l.s();!(t=l.n()).done;){var r=t.value;if("REQUIRE"===r.type){if(!(n=n&&e.trim().length>0))return[!1,"This field is required"]}else if("MINLENGTH"===r.type){if(!(n=n&&e.trim().length>=r.value))return[!1,"Minimum ".concat(r.value," characters required")]}else if("MAXLENGTH"===r.type){if(!(n=n&&e.trim().length<=r.value))return[!1,"Maximum ".concat(r.value," characters allowed")]}else if("MIN"===r.type){if(!(n=n&&+e>=r.value))return[!1,"This field cannot be less than ".concat(r.value)]}else if("MAX"===r.type){if(!(n=n&&+e<=r.value))return[!1,"This field cannot be more than ".concat(r.value)]}else if("EMAIL"===r.type&&!(n=n&&/^\S+@\S+\.\S+$/.test(e)))return[!1,"Invalid Email format"]}}catch(i){l.e(i)}finally{l.f()}return[!0,void 0]}(a.payload.value,a.payload.validators),n=Object(c.a)(t,2),l=n[0],r=n[1];return Object(m.a)(Object(m.a)({},e),{},{value:a.payload.value,isValid:l,errorMessage:r})}return"TOUCH"===a.type?Object(m.a)(Object(m.a)({},e),{},{isTouched:!0}):"CHANGE"===a.type?Object(m.a)(Object(m.a)({},e),{},{value:a.payload.value}):e}var f=function(e){var a=e.label,t=e.className,r=e.type,i=e.id,o=e.errorText,s=e.validators,u=e.value,m=e.valid,d=Object(n.useReducer)(h,{value:u||"",isValid:m||!1,errorMessage:void 0,isTouched:!1}),p=Object(c.a)(d,2),E=p[0],f=p[1],g=e.onInput,v=E.value,b=E.isValid;Object(n.useEffect)((function(){g(i,v,b)}),[g,i,v,b]);var y,w=function(e){f({type:"VALIDATE",payload:{value:e.target.value.trimStart(),validators:s}})},N=function(e){f({type:"TOUCH"}),f({type:"VALIDATE",payload:{value:e.target.value.trim(),validators:s}})};if("textarea"===r){var j=e.rows;y=l.a.createElement("textarea",Object.assign({},e,{valid:String(e.valid),id:i||Math.random(),rows:j||5,onChange:w,value:E.value,onBlur:N}))}else y=l.a.createElement("input",Object.assign({},e,{valid:String(e.valid),id:i||Math.random(),onChange:w,value:E.value,onBlur:N}));return l.a.createElement("div",{className:"form-control ".concat(!E.isValid&&E.isTouched&&"form-control--invalid"," ").concat(t)},l.a.createElement("label",null,a||""),y,!E.isValid&&E.isTouched&&l.a.createElement("p",null,o||E.errorMessage))},g=t(12);function v(e,a){if("UPDATE"===a.type){if("string"!==typeof a.payload.inputID)return e;var t=!0;for(var n in e.inputs)e.inputs[n]&&(t=n===a.payload.inputID?t&&a.payload.inputIsValid:t&&e.inputs[n].isValid);return Object(m.a)(Object(m.a)({},e),{},{inputs:Object(m.a)(Object(m.a)({},e.inputs),{},Object(g.a)({},a.payload.inputID,{value:a.payload.inputValue,isValid:a.payload.inputIsValid})),isFormValid:t})}return"SET_DATA"===a.type?{inputs:a.payload.inputs,isFormValid:a.payload.formValidity}:e}var b=function(e,a){var t=Object(n.useReducer)(v,{inputs:e,isFormValid:a}),l=Object(c.a)(t,2),r=l[0],i=l[1];return[r,Object(n.useCallback)((function(e,a,t){i({type:"UPDATE",payload:{inputID:e,inputValue:a,inputIsValid:t}})}),[]),Object(n.useCallback)((function(e,a){i({type:"SET_DATA",payload:{inputs:e,formValidity:a}})}),[])]};t(19);var y=function(){var e=b({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1}},!1),a=Object(c.a)(e,2),t=a[0],n=a[1];return l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.isFormValid||console.log("Form is not valid yet!!"),console.log(t)},className:"place-form"},l.a.createElement(f,{id:"title",type:"text",placeholder:"Name of the Place",label:"Title",validators:[{type:"REQUIRE"},p(3),E(50)],onInput:n}),l.a.createElement(f,{id:"description",type:"textarea",placeholder:"Description (100-1000 letters)",label:"Description",validators:[{type:"REQUIRE"},p(100),E(1e3)],onInput:n}),l.a.createElement(f,{id:"address",type:"textarea",rows:"3",placeholder:"Enter the Address",label:"Address",validators:[{type:"REQUIRE"},p(20),E(200)],onInput:n}),l.a.createElement(u,{disabled:!t.isFormValid,type:"submit"},"Submit"))},w=[];w=[{id:"p1",title:"Eiffel Tower",description:"The Eiffel Tower is a wrought-iron lattice tower on the Champ de Mars in Paris, France. It is named after the engineer Gustave Eiffel, whose company designed and built the tower",address:"Champ de Mars, 5 Avenue Anatole France, 75007 Paris, France",image:"https://www.history.com/.image/ar_1:1%2Cc_fill%2Ccs_srgb%2Cfl_progressive%2Cq_auto:good%2Cw_1200/MTU3ODc4NjAzNTM2MTQ4MTkx/hith-eiffel-tower-istock_000016468972large-2.jpg",location:{lat:"48.8584\xb0 N",lng:"2.2945\xb0 E"},sharedBy:"u1"},{id:"p2",title:"Taj Mahal",description:"The Taj Mahal, originally the Rauza-i-munawwara is an ivory-white marble mausoleum on the southern bank of the river Yamuna in the Indian city of Agra",address:"Dharmapuri, Forest Colony, Tajganj, Agra, Uttar Pradesh 282001",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Taj_Mahal_in_India_-_Kristian_Bertel.jpg/1200px-Taj_Mahal_in_India_-_Kristian_Bertel.jpg",location:{lat:"27.1751\xb0 N",lng:"78.0421\xb0 E"},sharedBy:"u2"},{id:"p3",title:"Leaning Tower of Pisa",description:"The Leaning Tower of Pisa or simply the Tower of Pisa is the campanile, or freestanding bell tower, of the cathedral of the Italian city of Pisa, known worldwide for its nearly four-degree lean, the result of an unstable foundation.",address:"Piazza del Duomo, 56126 Pisa PI, Italy",image:"https://www.towerofpisa.org/wp-content/uploads/2015/04/pisa-leaning-tower1.jpg",location:{lat:"43.7230\xb0 N",lng:"10.3966\xb0 E"},sharedBy:"u1"}];var N=function(e){var a=Object(o.h)().placeID,t=b({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),r=Object(c.a)(t,3),i=r[0],s=r[1],m=r[2],d=w.find((function(e){return e.id===a})),h=d||{},g=h.title,v=h.description;return Object(n.useEffect)((function(){m({title:{value:g,isValid:!0},description:{value:v,isValid:!0}},!0)}),[m,g,v]),d?l.a.createElement(n.Fragment,null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault()},className:"place-form"},l.a.createElement(f,{id:"title",type:"text",placeholder:"New title",label:"Title",validators:[{type:"REQUIRE"},p(3),E(50)],value:g,valid:!0,onInput:s}),l.a.createElement(f,{id:"description",type:"textarea",placeholder:"New description (100-1000)",label:"Description",validators:[{type:"REQUIRE"},p(100),E(1e3)],value:v,valid:!0,onInput:s}),l.a.createElement(u,{type:"submit",disabled:!i.isFormValid},"Update Place"))):l.a.createElement("div",{className:"center"},l.a.createElement("h1",null,"Could not find the place!"))},j=(t(37),function(e){return l.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)});t(38);var _=function(e){var a,t=e.coordinates,n=t.lat,r=t.lng,i=t.place;a=i?"".concat(i):"".concat(n,", ").concat(r);var c="https://maps.google.com/maps?width=600&height=400&hl=en&q=".concat(a,"&t=&z=16&ie=UTF8&iwloc=B&output=embed");return l.a.createElement("div",{className:"map ".concat(e.className),style:e.style},l.a.createElement("div",{className:"mapouter"},l.a.createElement("div",{className:"gmap_canvas"},l.a.createElement("iframe",{title:"map",className:"gmap_iframe",width:"100%",frameBorder:"0",scrolling:"no",marginHeight:"0",marginWidth:"0",src:c}),l.a.createElement("a",{href:"https://www.bgmi.org/"},"BGMI"))))},I=t(52),C=(t(39),function(e){return i.a.createPortal(l.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))});t(40);function O(e){var a=l.a.createElement("div",{className:"modal ".concat(e.className),style:e.style},l.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},l.a.createElement("h2",null,e.header)),l.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},l.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),l.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));return i.a.createPortal(a,document.getElementById("modal-hook"))}var T=function(e){return l.a.createElement(n.Fragment,null,e.show&&l.a.createElement(C,{onClick:e.onClose}),l.a.createElement(I.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:250,classNames:"modal"},l.a.createElement(O,e)))},k=Object(n.createContext)({isLoggedIn:!1,login:function(){},logout:function(){}});t(41);var M=function(e){var a=Object(n.useContext)(k).isLoggedIn,t=Object(n.useState)(!1),r=Object(c.a)(t,2),i=r[0],o=r[1],s=Object(n.useState)(!1),m=Object(c.a)(s,2),d=m[0],p=m[1],E=function(){p(!1)},h=e.image,f=e.title,g=e.address,v=e.description,b=e.id,y=e.location;return l.a.createElement(n.Fragment,null,l.a.createElement(T,{show:i,onClose:function(){o(!1)},header:g,contentClass:"place-item__modal-content"},l.a.createElement("div",{className:"map-container"},l.a.createElement(_,{coordinates:y}))),l.a.createElement(T,{show:d,onClose:E,header:"Are you sure?",footerClass:"place-item__modal-actions",footer:l.a.createElement(n.Fragment,null,l.a.createElement(u,{inverse:!0,onClick:E},"Cancel"),l.a.createElement(u,{danger:!0,onClick:function(){console.log("Deleting..."),E()}},"Delete"))},l.a.createElement("h2",null,"Do you want to proceed?"),l.a.createElement("h3",null,"Note that this cant be undone!")),l.a.createElement("li",{className:"place-item"},l.a.createElement(j,{className:"place-item__content"},l.a.createElement("div",{className:"place-item__image"},l.a.createElement("img",{src:h,alt:f})),l.a.createElement("div",{className:"place-item__info"},l.a.createElement("h2",null,f),l.a.createElement("h3",null,g),l.a.createElement("p",null,v)),l.a.createElement("div",{className:"place-item__actions ".concat(!a&&"not-logged-in")},l.a.createElement(u,{inverse:!0,onClick:function(){o(!0)}},"View on map"),a&&l.a.createElement("div",{className:"place-item__actions-restricted"},l.a.createElement(u,{to:"/places/".concat(b)},"Edit"),l.a.createElement(u,{danger:!0,onClick:function(){p(!0)}},"Delete"))))))};t(42);var x=function(e){var a=e.places.map((function(e){return l.a.createElement(M,Object.assign({key:e.id},e))}));return l.a.createElement("ul",{className:"place-list"},a)},V=[];V=[{id:"p1",title:"Eiffel Tower",description:"The Eiffel Tower is a wrought-iron lattice tower on the Champ de Mars in Paris, France. It is named after the engineer Gustave Eiffel, whose company designed and built the tower",address:"Champ de Mars, 5 Avenue Anatole France, 75007 Paris, France",image:"https://www.history.com/.image/ar_1:1%2Cc_fill%2Ccs_srgb%2Cfl_progressive%2Cq_auto:good%2Cw_1200/MTU3ODc4NjAzNTM2MTQ4MTkx/hith-eiffel-tower-istock_000016468972large-2.jpg",location:{lat:"48.8584\xb0 N",lng:"2.2945\xb0 E"},sharedBy:"u1"},{id:"p2",title:"Taj Mahal",description:"The Taj Mahal, originally the Rauza-i-munawwara is an ivory-white marble mausoleum on the southern bank of the river Yamuna in the Indian city of Agra",address:"Dharmapuri, Forest Colony, Tajganj, Agra, Uttar Pradesh 282001",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Taj_Mahal_in_India_-_Kristian_Bertel.jpg/1200px-Taj_Mahal_in_India_-_Kristian_Bertel.jpg",location:{lat:"27.1751\xb0 N",lng:"78.0421\xb0 E"},sharedBy:"u2"},{id:"p3",title:"Leaning Tower of Pisa",description:"The Leaning Tower of Pisa or simply the Tower of Pisa is the campanile, or freestanding bell tower, of the cathedral of the Italian city of Pisa, known worldwide for its nearly four-degree lean, the result of an unstable foundation.",address:"Piazza del Duomo, 56126 Pisa PI, Italy",image:"https://www.towerofpisa.org/wp-content/uploads/2015/04/pisa-leaning-tower1.jpg",location:{lat:"43.7230\xb0 N",lng:"10.3966\xb0 E"},sharedBy:"u1"}];var A=function(e){var a=Object(o.h)().userID,t=V.filter((function(e){return e.sharedBy===a}));return t.length?l.a.createElement(x,{places:t}):l.a.createElement("div",{className:"place-list center"},l.a.createElement(j,null,l.a.createElement("h1",null,"No places found"),l.a.createElement(u,{to:"/places/new"},"Create One")))};t(43);var P=function(e){return l.a.createElement("header",{className:"main-header"},e.children)};t(44);var D=function(e){var a=Object(n.useContext)(k),t=a.isLoggedIn,r=a.logout;return l.a.createElement("ul",{className:"nav-links"},l.a.createElement("li",null,l.a.createElement(s.c,{to:"/users",exact:!0},"Users")),t?l.a.createElement(n.Fragment,null,l.a.createElement("li",null,l.a.createElement(s.c,{to:"/u1/places"},"My Places")),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/places/new"},"Add Place")),l.a.createElement("li",null,l.a.createElement("button",{className:"danger-btn",onClick:r},"Logout"))):l.a.createElement("li",null,l.a.createElement(s.c,{to:"/auth"},"Login/Signup")))};t(45);var F=function(e){var a=l.a.createElement(I.a,{in:e.show,timeout:500,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("aside",{className:"side-drawer",onClick:e.onClick},e.children));return i.a.createPortal(a,document.getElementById("drawer-hook"))};t(46);var L=function(e){var a=Object(n.useState)(!1),t=Object(c.a)(a,2),r=t[0],i=t[1],o=function(){i(!1)};return l.a.createElement(n.Fragment,null,r&&l.a.createElement(C,{onClick:o}),l.a.createElement(F,{onClick:o,show:r},l.a.createElement("nav",{className:"main-navigation__drawer-nav"},l.a.createElement(D,null))),l.a.createElement(P,null,!r&&l.a.createElement("button",{onClick:function(){i(!0)},className:"main-navigation__menu-btn"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)),l.a.createElement("h1",{className:"main-navigation__title"},l.a.createElement(s.b,{to:"/"},"Locushare")),l.a.createElement("nav",{className:"main-navigation__header-nav"},l.a.createElement(D,null))))};var S=function(e){return l.a.createElement("div",{className:"center container"},l.a.createElement(j,null,l.a.createElement("h1",null,e.warningMessage),l.a.createElement(u,{className:"mb-3",to:"/auth"},"LogIn"),l.a.createElement(u,{className:"mb-3",inverse:!0,to:"/"},"Go to Home Page")))};t(47);var U=function(e){var a=Object(o.g)(),t=Object(n.useContext)(k).login,r=Object(n.useState)(!0),i=Object(c.a)(r,2),s=i[0],d=i[1],E=b({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),h=Object(c.a)(E,3),g=h[0],v=h[1],y=h[2];return l.a.createElement(n.Fragment,null,l.a.createElement(j,{className:"authentication"},l.a.createElement("h2",null,s?"Login required":"Sign Up"),l.a.createElement("hr",null),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(),a.push("/")}},!s&&l.a.createElement(f,{id:"name",label:"Name",type:"text",placeholder:"Your Name",onInput:v,validators:[{type:"REQUIRE"}]}),l.a.createElement(f,{id:"email",label:"Email",type:"email",placeholder:"name@example.com",onInput:v,validators:[{type:"REQUIRE"},{type:"EMAIL"}]}),l.a.createElement(f,{id:"password",label:"Password",type:"password",placeholder:"Password",onInput:v,validators:[{type:"REQUIRE"},p(5)]}),l.a.createElement(u,{type:"submit",disabled:!g.isFormValid},s?"LogIn":"SignUp")),l.a.createElement("div",{className:"switch-login-signup"},s?l.a.createElement("p",null,"Don't have an Account?"):l.a.createElement("p",null,"Already have an Account?"),l.a.createElement(u,{inverse:!0,onClick:function(){s?y(Object(m.a)(Object(m.a)({},g.inputs),{},{name:{value:"",isValid:!1}}),!1):y(Object(m.a)(Object(m.a)({},g.inputs),{},{name:void 0}),g.inputs.email.isValid&&g.inputs.password.isValid),d((function(e){return!e}))}},"Switch to ",s?"Sign Up":"Log In"))))},R=(t(48),t(49),function(e){return l.a.createElement("div",{className:"avatar ".concat(e.className),style:e.style},l.a.createElement("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}}))});var B=function(e){var a=e.id,t=e.name,n=e.image,r=e.placeCount;return l.a.createElement("li",{className:"user-item"},l.a.createElement(j,{className:"user-item__content"},l.a.createElement(s.b,{to:"/".concat(a,"/places")},l.a.createElement("div",{className:"user-item__image"},l.a.createElement(R,{image:n,alt:t})),l.a.createElement("div",{className:"user-item__info"},l.a.createElement("h2",null,t),l.a.createElement("h3",null,r," Place",1!==r&&"s")))))};t(50);var z=function(e){var a=e.items;if(0===a.length)return l.a.createElement("div",{className:"center"},l.a.createElement(j,{className:"no-users"},l.a.createElement("h1",null,"No users")));var t=a.map((function(e){return l.a.createElement(B,Object.assign({key:e.id},e))}));return l.a.createElement(n.Fragment,null,l.a.createElement("ul",{className:"users-list"},t))},Q=[{id:"u1",name:"John",image:"https://images.unsplash.com/photo-1622209031219-e52006b86cf5?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=500&ixlib=rb-1.2.1&q=80&w=500",placeCount:3},{id:"u2",name:"Joe",image:"https://images.unsplash.com/photo-1622209031219-e52006b86cf5?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=500&ixlib=rb-1.2.1&q=80&w=500",placeCount:0},{id:"u3",name:"Bob",image:"https://images.unsplash.com/photo-1622209031219-e52006b86cf5?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=500&ixlib=rb-1.2.1&q=80&w=500",placeCount:2},{id:"u4",name:"sam",image:"https://images.unsplash.com/photo-1622209031219-e52006b86cf5?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=500&ixlib=rb-1.2.1&q=80&w=500",placeCount:1}];var q=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(z,{items:Q}))};var G=function(){var e,a=Object(n.useState)(!1),t=Object(c.a)(a,2),r=t[0],i=t[1],u=Object(n.useCallback)((function(){i(!0)}),[]),m=Object(n.useCallback)((function(){i(!1)}),[]);e=r?l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0},l.a.createElement(o.a,{to:"/users"})),l.a.createElement(o.b,{path:"/users",exact:!0},l.a.createElement(q,null)),l.a.createElement(o.b,{path:"/:userID/places",exact:!0},l.a.createElement(A,null)),l.a.createElement(o.b,{path:"/places/new",exact:!0},l.a.createElement(y,null)),l.a.createElement(o.b,{path:"/places/:placeID"},l.a.createElement(N,null)),l.a.createElement(o.b,{path:"/auth",exact:!0},l.a.createElement(U,null)),l.a.createElement(o.a,{to:"/"})):l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/ ",exact:!0},l.a.createElement(o.a,{to:"/users"})),l.a.createElement(o.b,{path:"/users",exact:!0},l.a.createElement(q,null)),l.a.createElement(o.b,{path:"/:userID/places",exact:!0},l.a.createElement(A,null)),l.a.createElement(o.b,{path:"/places/new",exact:!0},l.a.createElement(S,{warningMessage:"You need to Login before you create a Place"})),l.a.createElement(o.b,{path:"/places/:placeID"},l.a.createElement(S,{warningMessage:"You need to Login before you can edit a Place"})),l.a.createElement(o.b,{path:"/auth",exact:!0},l.a.createElement(U,null)),l.a.createElement(o.a,{to:"/auth"}));var d={isLoggedIn:r,login:u,logout:m};return l.a.createElement(k.Provider,{value:d},l.a.createElement(s.a,null,l.a.createElement(L,null),l.a.createElement("main",null,e)))};i.a.render(l.a.createElement(G,null),document.getElementById("root"))}]),[[24,1,2]]]);
//# sourceMappingURL=main.86ee938c.chunk.js.map